2024/7/5
第二集帧格式
数据帧：帧起始SOF,仲裁段报文ID+RTR判别是数据帧还是遥控帧，控制段IDE+r0+DLC，判断是标准格式还是拓展格式，ro为预留位，DLC判断数据长度
        数据段DATA发送数据0-64位（8节），CRC段校验+界定符，ACK段ACK槽+界定符应答发送端1，接收端0,帧结束EOF
拓展格式：RTR后置，SRR代替原有位置为隐性1， 后续相同
遥控帧：RTR隐性1，无数据段
错误帧：主动被动错误
过载帧：接收方发送，破坏发送方发送的数据，类似于错误帧
帧间隔：主动错误3，被动错误3+8
位填充：区分正常数据流和错误帧，过载帧；保持活跃状态避免被认为是总线空闲；有助于接收方精准掌握数据采样时机
       转换例子  100000110--1000001110；10000011110--1000001111100
波形实例中可以看出，位填充是存在于整个波形中的
遥控帧的DLC好像没用
第三集位同步（让接收方准确地采样到每个数据位）
接收方数据采样：总线上的所有设备通过约定的波特率的方式确定每一个数据位的时长，发送方以约定的位时长每隔固定时间输出一个数据位，接收方以约定的位时长每隔固定时间采样总线的电平，输入一个数据位
采样遇到的问题：1）以约定的位时长进行采样，但是采样点没有对齐数据位中心附近-->硬同步；2）刚开始采样正确但是始终有误差，随着误差积累，采样点逐渐偏移-->再同步
位时序：SS同步段，PTS传播时间段，PBS1,2相位缓冲段1，2，由最小时间单位Tq构成，1bit=10Tq（用于灵活调整每个采样点的位置）
硬同步（硬件同步）：每个设备都有一个位时序计时周期，当发送方想要率先发送报文，自身到SS段时发送，而接收方收到SOF的下降沿（开始接收数据）时就会将自身调到SS段，与发送方同步
再同步：再同步补偿宽度值SJW（=1~4Tq）通过加长PBS1或者缩短PBS2来调整同步，再同步可以发生在第一个下降沿之后的每个数据位跳变边沿
