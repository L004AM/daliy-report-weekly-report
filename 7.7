2024/7/7
上次第三集还有一点没看完，收个尾
SJW要通过实验测试决定；不同设备误差过大SJW也无能为力
波特率的计算（bps）即（1/一个数据位）的时长（每秒传多少个bit），对于can来说，也就是1/（Tss+Tpts+Tpbs1+Tpbs2）

第四章：总线的资源分配规则（即多设备同时发送的问题）
1）先占先得；2）非破坏性仲裁（同时开始的情况）
1）：任何设备检测到连续11个隐性电平，即认为总线空闲，只有空闲时设备才能发送数据帧或者遥控帧
2）：CAN总线协议根据ID号进行仲裁，ID小的获胜，大的转入接收状态，等待下一次总线空闲；
实现非破坏性仲裁的两个要求：线与特性和回读机制
数据位从前往后依次比较，发送和回读的数据出现差异且数据位为1的设备仲裁失利
插入的填充位不会影响仲裁结果
数据帧和遥控帧的ID一样，数据帧高于遥控帧（仲裁段RTR数据帧0覆盖遥控帧1）（符合逻辑，既然要的数据来了，那就不请求了），ID不一样直接正常仲裁
相同ID的数据帧或者遥控帧不能同时出现，会无法仲裁
标准格式11位ID号和扩展格式29位ID号高11位一样时，标准格式的优先级高于扩展格式
因为扩展发完11位发的是SRR=1，而标准发完11位给的RTR=0，覆盖了1，仲裁胜出
如果时扩展数据帧和标准遥控帧相遇，前11位相同，且SRR=RTR=1,标准遥控帧仲裁结束，但是扩展数据帧继续仲裁，第十三位是IDE，而标准格式的IDE=0,标准遥控帧获胜
